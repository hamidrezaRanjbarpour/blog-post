{% load static %}
{% load widget_tweaks %}
{% block styles %}
    <link rel="stylesheet" href="{% static 'tweets/index.css' %}">
{% endblock %}

{% block content %}
    <div class="container row mx-0 px-0 pb-1">
        <div class="pb-3">
            <div class="text-center pfpSmolContainer d-inline-block px-0 mt-3 mx-2"
                 style="min-height: 100%; vertical-align:top; box-sizing: border-box; align-items: stretch;">

                {% if request.user.profile.profile_img %}
                    <img class="rounded pfpSmol"
                         src="{{ request.user.profile.profile_img.url }}"
                         style="border: 2px solid #51D2B7;"/>
                {% else %}
                    <img class="rounded pfpSmol"
                         src="https://mdbootstrap.com/img/Photos/Others/placeholder-avatar.jpg"
                         style="border: 2px solid #51D2B7;"/>
                {% endif %}
                {#                ^PUT LOGGED IN USER PFP HERE!#}
            </div>
        </div>
        <div class="col pt-3">
            <form class="align-items-stretch" autocomplete="off" action="{% url 'tweets:post' %}"
                  method="post" enctype="multipart/form-data">
                {% csrf_token %}

                {#                <textarea class="form-control tweetTextArea mb-2" id="postBox" maxlength="250" minlength="1"#}
                {#                          data-min-rows='1' rows='1' name="content" placeholder="Write Tweet here.."></textarea>#}
                {{ form.content|attr:"class:form-control tweetTextArea mb-2"|attr:"class:tweetTextArea"| attr:"class:mb-2"|attr:"id:postBox"|attr:"maxlength:250"|attr:"minlength:1"|attr:"data-min-rows:1"|attr:"rows:1"|attr:"placeholder:Write Tweet here.." }}
                {#                {{ form.username|attr:"id:usernameChange"|attr:"class:form-control"|attr:"placeholder:New Username" }}#}

                <hr class="my-2" style="border: none">

                <div class="tweetImgContainer col-12 p-0 mb-4 d-flex" id="uploadImgContainer">
                    {#                    <img src="https://cdn.pixabay.com/photo/2018/01/12/10/19/fantasy-3077928_960_720.jpg?format=jpg&name=small" alt="Image" class="tweetImg">#}
                </div>

                <div class="d-flex flex-row align-items-center">

                    {#                    <form class="col col-1 d-flex justify-content-start p-0">#}
                    <div class="custom-file custom-file-img">
                            <label class="btn btn-info bottomBtn" for="imgFile">
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
                                  <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                                  <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
                                </svg>
                            </label>
                        {{ form.media|attr:'class:custom-file-input'|attr:'id:imgFile' }}
{#                        <input type="file" name="post_image" accept="image/*" class="custom-file-input" id="imgFile">#}
                    </div>
{#                    <div class="custom-file custom-file-img">#}
{#                        <label class="btn btn-info" for="otherFile">other</label>#}
{#                        <input type="file" class="custom-file-input" id="otherFile">#}
{#                    </div>#}

                    <div class="col d-flex justify-content-end p-0">
                        <button class="btn tweetSubmitBtn" id="postTweetBtn" disabled>Tweet</button>
                    </div>
                </div>
            </form>


            {#            <a href="{% url 'tweets:index' %}">See homepage..</a>#}
            <hr class="my-2">
        </div>
    </div>
{% endblock %}

{% block script %}
    {#    <script src="{% static 'tweets/index.js' %}"></script>#}
{% endblock %}